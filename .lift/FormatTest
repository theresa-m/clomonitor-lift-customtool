#!/usr/bin/env bash
dir=$1
commit=$2
cmd=$3

function version() {
    echo 1
}

# always applicable since this is a custom plugin
function applicable() {
    echo "true"
}
function run() {
# shellcheck disable=SC2028
echo '[
      { "type": " Best Practices:  Analytics",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Best Practices:  Artifacthub Badge",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Best Practices:  Cla",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Best Practices:  Github Discussions",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Best Practices:  Openssf Badge",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Documentation:  Adopters",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Documentation:  Roadmap",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Documentation:  Website",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Legal:  Trademark Disclaimer",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " License:  License Scanning",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Security:  Code Review",                     "message": "### Code-Review OpenSSF Scorecard check\n\n**Score**: 1 (check passes with score >= 5)\n\n**Reason**: GitHub code reviews found for 3 commits out of the last 30 -- score normalized to 1\n\n**Details**: \n\n>Warn: no reviews found for commit: 5a03894712fa7cb6d5d832aa945c0fcde04034c9\nWarn: no reviews found for commit: f3a8b446d42151531d3042f81e347cb5fb18930d\nWarn: no reviews found for commit: 3068bb0929f421ac24425116eadd8a63d7973152\nWarn: no reviews found for commit: 8238e1afab0b84ac389b66359c46c36a8193fc04\nWarn: no reviews found for commit: e877f68e98638c7402f142730a8000fe4f32c6c2\nWarn: no reviews found for commit: 607107d5b6e522f414251757c47d6a8bc7e6c9c1\nWarn: no reviews found for commit: 72afdc6b65fb30507d563f829d3102005faad6ac\nWarn: no reviews found for commit: 4ec2d9f48fffd1857c6086a4092e2465266c1b11\nWarn: no reviews found for commit: 21ed76d677469b0db1131e25bf657d8e5a896c72\nWarn: no reviews found for commit: 8f0701c3c648f45a77be54ec9aa4769a8ac04a5b\nWarn: no reviews found for commit: 25fd8e78b134e0295940746d5eb14d066cef293c\nWarn: no reviews found for commit: 07b4f9d8760c763fbdb46d60382a50473633971a\nWarn: no reviews found for commit: 433adea5f3347c01ec02896096bdb93a2249669c\nWarn: no reviews found for commit: 4825ebb3b61e3fd52bff7e51b895e9a377735a73\nWarn: no reviews found for commit: 607184e4808afe732326155164b48d966495e1fc\nWarn: no reviews found for commit: 16a9379123d2c4afa159d14ebed329bc327576a7\nWarn: no reviews found for commit: 96c76941950b9e56078af13452042a9c81f1cdb7\nWarn: no reviews found for commit: 0158571059727d090857e2d3ee6357937b352a96\nWarn: no reviews found for commit: 49fb22a553ad431508ef4004ce33fea802216458\nWarn: no reviews found for commit: 352caa022ff7a3d969dc5204e030f156c47d1e50\nWarn: no reviews found for commit: ebd69b8bcfeab0135f2c2d050c09ba71338c226e\nWarn: no reviews found for commit: de5f83eab91079f3ad5c3cf13157d639b067d248\nWarn: no reviews found for commit: 7a9f7812e6269e6a4fb1dc40524d7c8d8619055e\nWarn: no reviews found for commit: 60914e33afb49a19ebc8665de94b4d406199a669\nWarn: no reviews found for commit: 436661cdf21eca6201919addbf14183daad88378\nWarn: no reviews found for commit: 23f79cdf7a43db870538601ef829991e4530232f\nWarn: no reviews found for commit: 1a4eb1a2b29ab61020b11462b2b43c0b7014e45b\n\n**Please see the [check documentation](https://github.com/ossf/scorecard/blob/e42af756609b2cde6d757fd45ea05ddf0016ff62/docs/checks.md#code-review) in the ossf/scorecard repository for more details**",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Security:  Dependency Update Tool",                     "message": "### Dependency-Update-Tool OpenSSF Scorecard check\n\n**Score**: 0 (check passes with score >= 5)\n\n**Reason**: no update tool detected\n\n**Details**: \n\n>Warn: dependabot config file not detected in source location.\n\t\t\tWe recommend setting this configuration in code so it can be easily verified by others.\nWarn: renovatebot config file not detected in source location.\n\t\t\tWe recommend setting this configuration in code so it can be easily verified by others.\n\n**Please see the [check documentation](https://github.com/ossf/scorecard/blob/e42af756609b2cde6d757fd45ea05ddf0016ff62/docs/checks.md#dependency-update-tool) in the ossf/scorecard repository for more details**",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Security:  Sbom",                     "message": "",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Security:  Signed Releases",                     "message": "### Signed-Releases OpenSSF Scorecard check\n\n**Score**: -1 (check passes with score >= 5)\n\n**Reason**: no releases found\n\n**Details**: \n\n>Warn: no GitHub releases found\n\n**Please see the [check documentation](https://github.com/ossf/scorecard/blob/e42af756609b2cde6d757fd45ea05ddf0016ff62/docs/checks.md#signed-releases) in the ossf/scorecard repository for more details**",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ,
      { "type": " Security:  Token Permissions",                     "message": "### Token-Permissions OpenSSF Scorecard check\n\n**Score**: 0 (check passes with score >= 5)\n\n**Reason**: non read-only tokens detected in GitHub workflows\n\n**Details**: \n\n>Warn: no top level permission defined: .github/workflows/ci.yaml:1\nWarn: no top level permission defined: .github/workflows/e2e-dubbo.yaml:1\nWarn: no top level permission defined: .github/workflows/e2e-kafka-zookeeper.yaml:1\nWarn: no top level permission defined: .github/workflows/e2e-metaprotocol.yaml:1\nWarn: no top level permission defined: .github/workflows/e2e-redis.yaml:1\nWarn: no top level permission defined: .github/workflows/e2e-thrift.yaml:1\nWarn: no top level permission defined: .github/workflows/license-checker.yaml:1\nWarn: no top level permission defined: .github/workflows/publish.yaml:1\nInfo: candidate docker publishing workflow: .github/workflows/publish.yaml:9\n\n**Please see the [check documentation](https://github.com/ossf/scorecard/blob/e42af756609b2cde6d757fd45ea05ddf0016ff62/docs/checks.md#token-permissions) in the ossf/scorecard repository for more details**",                     "file": "",                     "line":0,                     "details_url": "https://clomonitor.io/docs/topics/checks/"                   }
      ]'
}

if [[ "$cmd" = "run" ]] ; then
    #installTool
    run
fi
if [[ "$cmd" = "applicable" ]] ; then
    applicable
fi
if [[ "$cmd" = "version" ]] ; then
    version
fi